import{u as e,e as a,f as l}from"./index.99dd7a58.js";import t from"./Add.eb0e9716.js";import o from"./Edit.12169796.js";import{d as i,L as s,H as n,P as d,r,M as u,o as p,c,a as m,O as f,u as g,E as w,p as b,F as h,n as _,x as v,y,z}from"./vendor.341633ee.js";import"./Form.vue_vue&type=script&setup=true&lang.6c3ed7fc.js";const x=v();y("data-v-2cae803b");const k={class:"view"},j={class:"user"},C=w("刷新");z();var S=i({setup(i){const{state:v}=e(),y=s({total:0,pageSize:5,pageNum:1,user:[]});function z(e){y.pageSize=e,T()}function S(e){y.pageNum=e,T()}function T(){l({urlParam:`/${y.pageNum}/${y.pageSize}`}).then((e=>{y.user=e.data.list,y.total=e.data.total}))}T();const E=n([]);function H(e,a){E.value[0]==e.id?E.value=[]:(E.value=[],E.value.push(e.id))}const N=n();d("data",N);const F=n();return d("roles",F),a().then((e=>{F.value=e.data})),(e,a)=>{const l=r("el-button"),i=r("el-space"),s=r("el-table-column"),n=r("el-descriptions-item"),d=r("el-tag"),F=r("el-descriptions"),I=r("el-table"),O=r("el-pagination"),P=r("el-scrollbar"),U=u("loading");return p(),c("div",k,[m(P,null,{default:x((()=>[m("div",j,[m(i,{size:10},{default:x((()=>[m(l,{size:"mini",icon:"el-icon-refresh",onClick:T},{default:x((()=>[C])),_:1}),m(t),m(o,{type:"success",icon:"el-icon-edit",msg:"修改"})])),_:1}),f(m(I,{data:g(y).user,stripe:"","header-cell-style":{background:"#f5f7fa",color:"#606266"},"max-height":"500",onExpandChange:H,"row-key":"id","expand-row-keys":E.value,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"},{default:x((()=>[m(s,{type:"selection",width:"50"}),m(s,{type:"expand",label:"详情",width:"50"},{default:x((e=>[m(F,{title:"用户信息"},{default:x((()=>[m(n,{label:"用户名:"},{default:x((()=>[w(b(e.row.username),1)])),_:2},1024),m(n,{label:"昵称:"},{default:x((()=>[w(b(e.row.nickname),1)])),_:2},1024),m(n,{label:"角色:"},{default:x((()=>[(p(!0),c(h,null,_(e.row.roles,((e,a)=>(p(),c(d,{key:e.id,style:{margin:"2px"},size:"small"},{default:x((()=>[w(b(e.nickname),1)])),_:2},1024)))),128))])),_:2},1024),m(n,{label:"状态:"},{default:x((()=>[w(b(e.row.status),1)])),_:2},1024),m(n,{label:"手机号码:"},{default:x((()=>[w(b(e.row.phone),1)])),_:2},1024),m(n,{label:"邮箱:"},{default:x((()=>[w(b(e.row.email),1)])),_:2},1024),m(n,{label:"创建时间:"},{default:x((()=>[w(b(e.row.createTime),1)])),_:2},1024),m(n,{label:"修改时间:"},{default:x((()=>[w(b(e.row.updateTime),1)])),_:2},1024),m(n,{label:"版本:"},{default:x((()=>[w(b(e.row.version),1)])),_:2},1024)])),_:2},1024)])),_:1}),m(s,{label:"用户名",prop:"username","show-overflow-tooltip":"","min-width":"150"}),m(s,{label:"头像",prop:"headImg",width:"80"}),m(s,{label:"昵称",prop:"nickname","show-overflow-tooltip":"","min-width":"180"}),m(s,{label:"角色",width:"150"},{default:x((e=>[(p(!0),c(h,null,_(e.row.roles,((e,a)=>(p(),c(d,{key:e.id,style:{margin:"2px"},size:"small"},{default:x((()=>[w(b(e.nickname),1)])),_:2},1024)))),128))])),_:1}),m(s,{label:"状态",prop:"status",width:"80"}),m(s,{label:"创建时间",prop:"createTime",width:"160"}),m(s,{label:"修改时间",prop:"updateTime",width:"160"}),m(s,{label:"操作",fixed:"right",width:"130"},{default:x((e=>[m(i,null,{default:x((()=>[m(o,{type:"primary",icon:"el-icon-edit",onHandleUpdate:a=>function(e){const a=Object.assign({},e);let l=a.roles.map((e=>e.id));a.roles=l,N.value=a}(e.row)},null,8,["onHandleUpdate"]),m(l,{type:"danger",size:"mini",icon:"el-icon-delete"})])),_:2},1024)])),_:1})])),_:1},8,["data","expand-row-keys"]),[[U,g(v).user.loading]]),m(O,{layout:"total, sizes, pre, pager, next, jumper",small:"",total:g(y).total,"page-sizes":[5,10,20,40],"page-size":g(y).pageSize,background:"",onCurrentChange:S,onSizeChange:z},null,8,["total","page-size"])])])),_:1})])}}});S.__scopeId="data-v-2cae803b";export{S as default};
