import{u as e,c as a,t}from"./index.bf43a737.js";import{d as l,G as i,r as n,L as o,o as s,c as r,a as d,M as c,u,E as p,q as f,y as m,z as h,A as w}from"./vendor.58eb613c.js";const b=m();h("data-v-3a299128");const v={class:"view"},g={class:"menu"},_=p("刷新");w();var x=l({setup(l){const{state:m}=e(),h=i([]);function w(){a().then((e=>{h.value=t(e.data.map((e=>(e.meta={title:e.title,icon:e.icon},delete e.title,delete e.icon,e))))}))}function x(e){switch(e.type){case 0:return"目录";case 1:case 3:return"菜单";case 2:return"权限";default:return"未知"}}w();const y=i();function z(e,a){if(a){let a=function(t){t.forEach((t=>{const l=t.children;l&&a(l),e.id!=t.id&&e.parentId==t.parentId&&(t.children,y.value.toggleRowExpansion(t,!1))}))};a(h.value)}}return(e,a)=>{const t=n("el-button"),l=n("el-space"),i=n("el-table-column"),E=n("el-tag"),I=n("el-table"),j=n("el-scrollbar"),k=o("loading");return s(),r("div",v,[d(j,null,{default:b((()=>[d("div",g,[d(l,{size:10},{default:b((()=>[d(t,{size:"mini",icon:"el-icon-refresh",onClick:w},{default:b((()=>[_])),_:1})])),_:1}),c(d(I,{data:h.value,ref:y,"row-key":"id",stripe:"","max-height":"500",onExpandChange:z,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"},{default:b((()=>[d(i,{prop:"meta.title",label:"名称","show-overflow-tooltip":"","min-width":"180"}),d(i,{label:"图标",width:"80"},{default:b((e=>[d("i",{class:e.row.meta.icon},null,2)])),_:1}),d(i,{prop:"orderNum",label:"排序","min-width":"50"}),d(i,{prop:"type",label:"类型",width:"80"},{default:b((e=>[d(E,{size:"small"},{default:b((()=>[p(f(x(e.row)),1)])),_:2},1024)])),_:1}),d(i,{prop:"path",label:"节点路由","show-overflow-tooltip":"","min-width":"180"}),d(i,{prop:"createTime",label:"创建时间",width:"180"}),d(i,{prop:"updateTime",label:"修改时间",width:"180"}),d(i,{prop:"version",label:"版本","min-width":"50"}),d(i,{label:"操作",fixed:"right",width:"130"},{default:b((()=>[d(l,null,{default:b((()=>[d(t,{type:"primary",size:"mini",icon:"el-icon-edit"}),d(t,{type:"danger",size:"mini",icon:"el-icon-delete"})])),_:1})])),_:1})])),_:1},8,["data"]),[[k,u(m).user.loading]])])])),_:1})])}}});x.__scopeId="data-v-3a299128";export{x as default};
